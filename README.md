# Система распознавания контуров печени

Веб-приложение для загрузки медицинских снимков и автоматического распознавания контуров печени.

## Запуск с использованием Docker

Для запуска приложения через Docker выполните следующие шаги:

1. Убедитесь, что у вас установлены Docker и Docker Compose

2. Клонируйте репозиторий:
```
git clone <ссылка на репозиторий>
cd liver_contour_detection
```

3. Запустите приложение:
```
docker-compose up -d
```

4. Приложение будет доступно по адресу http://localhost:8000

## Создание суперпользователя

Для создания суперпользователя (администратора) выполните:

```
docker-compose exec web python manage.py createsuperuser
```

## Управление контейнером

- Просмотр логов: `docker-compose logs -f`
- Остановка контейнера: `docker-compose down`
- Перезапуск: `docker-compose restart`

## Резервное копирование данных

База данных и медиа-файлы сохраняются на хосте в директориях:
- База данных: внутри контейнера `/app/db.sqlite3`
- Медиа-файлы: `./media`

## Деплой на Fly.io

Для деплоя приложения на Fly.io:

1. Зарегистрируйтесь на [Fly.io](https://fly.io/) и установите Fly CLI:
   ```
   # MacOS
   brew install flyctl
   
   # Windows / Linux (через Powershell)
   iwr https://fly.io/install.ps1 -useb | iex
   ```

2. Авторизуйтесь в Fly CLI:
   ```
   flyctl auth login
   ```

3. Запустите деплой из корневой директории проекта:
   ```
   cd liver_contour_detection
   flyctl launch --name liver-contour-detection
   ```
   Примечание: при запуске вам будет предложено создать PostgreSQL базу данных - можно отказаться, так как мы используем SQLite.

4. Создайте том для хранения медиа-файлов:
   ```
   flyctl volumes create liver_media --size 1
   ```

5. Настройте переменные окружения:
   ```
   flyctl secrets set SECRET_KEY="ваш_безопасный_ключ"
   flyctl secrets set FLY_APP_NAME="liver-contour-detection"
   ```

6. Деплой приложения:
   ```
   flyctl deploy
   ```

Fly.io предоставляет:
- 3 виртуальные машины с 256MB RAM в бесплатном тарифе
- 3GB постоянного хранилища
- Глобальное распределение трафика
- Custom домены с SSL

После деплоя ваше приложение будет доступно по адресу https://liver-contour-detection.fly.dev

## Развитие проекта

В будущем планируется добавить:
- Функциональность автоматического распознавания контуров печени
- Возможность экспорта результатов в различных форматах
- Администраторский интерфейс для управления пользователями 